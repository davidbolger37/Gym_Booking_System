<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://kit.fontawesome.com/dc868a21c4.js" crossorigin="anonymous"></script>
    <!--Get your code at fontawesome.com-->
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="../static/css/login.css">
    <link rel="stylesheet" type="text/css" href="/static/css/login.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/login.css') }}">
    <title>Register to GETFIT!</title>

    <style>
        .background{
            background-image: url("../static/images/background/register.jpg");
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
        }
    </style>
</head>
<!-- Header -->
<header id="myHeader">
    <!-- Navigation Bar -->
    <nav class="navbar">
        <!-- Toggle Collapsed Sidepanel -->
        <div id="mySidebar" class="sidebar">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
            <a href="{{url_for('index')}}">HOME</a>
            <a href="#about">ABOUT US</a>
            <a href="{{url_for('booking')}}">BOOKING</a>
            <a href="#team">TEAM</a>
            {% if 'user_id' in session %}
            <!-- If the user is logged in, show the logout button -->
            <a href="{{url_for('logout')}}">LOGOUT</a>
            {% else %}
            <!-- If the user is not logged in, show login and register buttons -->
            <a href="{{url_for('login')}}">LOGIN</a>
            <a class="active" href="#">REGISTER</a>
            {% endif %}
            <a href="#">CONTACT US</a>
            <br>
            <div class="sidebarText">
                <h2 style=" font-family: Audiowide, sans-serif;"> Working hours </h2>
                <p> Monday – Friday:<br>
                    07:00 – 21:00</p><br>
                <p>Saturday:<br>
                    07:00 – 16:00</p><br>
                <p>Sunday Closed</p>
            </div>
        </div>
        <button class="openbtn" onclick="openNav()">☰</button>
        <!-- Brand Name & Logo -->
        <i class="fa fa-dumbbell" style="font-size:40px;color:yellow;padding-left:10px"></i>
        <div class="navbar-brand"><b style="color:yellow;">GET</b>FIT</div>
        <!-- Navbar items -->
        <ul class="navbar-nav">
            <li class="nav-item"><a href="{{url_for('index')}}">HOME</a></li>
            <li class="nav-item"><a href="#about">ABOUT US</a></li>
            <li class="nav-item"><a href="{{url_for('booking')}}">BOOKING</a></li>
            <li class="nav-item"><a href="#team">TEAM</a></li>
            {% if 'user_id' in session %}
            <!-- If the user is logged in, show the logout button -->
            <li class="nav-item"><a href="{{url_for('logout')}}">LOGOUT</a></li>
            {% else %}
            <!-- If the user is not logged in, show login and register buttons -->
            <li class="nav-item"><a href="{{url_for('login')}}">LOGIN</a></li>
            <li class="nav-item"><a class="active" href="#">REGISTER</a></li>
            {% endif %}
            <li class="nav-item"><a href="#" class="contact">CONTACT US</a></li>
        </ul>
    </nav>
    <!-- Flash Messages Section -->
     {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div id="flash-message" class="alert">
                {% for category, message in messages %}
                    <div class="{{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
</header>

<body class="background">
<div>
    <!-- Create an Account Form -->
    <div>
        <form method="post" action="{{ request.path }}">
            <h2 style="font-family:Audiowide, sans-serif;text-align:center;color:white;">Create an <span style="color:yellow">Acc</span>ount</h2>
            <label>First Name: </label>
            <input type="text" name="first_name" class="inputText" placeholder="First Name" />
            <label>Last Name: </label>
            <input type="text" name="last_name" class="inputText" placeholder="Last Name" />
            <label>Email: </label>
            <input type="email" name="user_email" class="inputText" placeholder="email@gmail.com" />
            <label>Password: </label>
            <input type="password" name="user_password" class="inputText" placeholder="********" />
            <input type="hidden" name="role" value="user">
            <input type="submit" value="Register" />
             <h2 style="font-family:Audiowide, sans-serif;font-size:20px;text-align:center;color:white;"><span style="color: yellow">Already</span> a Member?</h2>
            <button type="button" onclick="window.location.href='{{ url_for('login') }}';">Login</button>
        </form>
    </div>
<!--    &lt;!&ndash; Active Members Section &ndash;&gt;-->
<!--    <div class="w3-container w3-half">-->
<!--        <div class="w3-container w3-margin-top">-->
<!--            <div class="social-links w3-margin">-->
<!--                <a><img src="../static/images/icons/user.png" alt="users" class="icon fab" /></a>-->
<!--                <span style="color: white;">Members: {{ users_count }}</span>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</div>

<!-- BACK button -->
<!-- needs to be fixed - when screen is smaller, button is covered by footer -->
<script>
    //Sidebar
function openNav() {
  document.getElementById("mySidebar").style.width = "250px";
}

function closeNav() {
  document.getElementById("mySidebar").style.width = "0";
}

document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('.sidebar a').forEach(item => {
        item.addEventListener('click', closeNav);
    });
});

document.addEventListener('DOMContentLoaded', (event) => {
    const flashMessage = document.getElementById('flash-message');
    if (flashMessage) {
        setTimeout(() => {
            flashMessage.classList.add('fade-out');
        }, 4000); // 4000ms or 4 seconds until fade-out starts
    }
});
</script>
</body>
<!-- Footer Section -->

<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="footer-col">
                <h4 style="font-family:Audiowide, sans-serif;color:white;"><b style="color:yellow;">GET</b>FIT</h4>
                <ul>
                    <li><a href="#">about us</a></li>
                    <li><a href="#">our services</a></li>
                    <li><a href="#">privacy policy</a></li>
                    <li><a href="#">affiliate program</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>get help</h4>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">membership</a></li>
                    <li><a href="#">bookings</a></li>
                    <li><a href="#">timetable</a></li>
                    <li><a href="#">coaches</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>additional info</h4>
                <ul>
                    <li><a href="#">all clubs</a></li>
                    <li><a href="#">prices</a></li>
                    <li><a href="#">news & blogs</a></li>
                    <li><a href="#">careers</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>follow us</h4>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
    </div>
</footer>
</html>